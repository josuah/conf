#!/bin/sh -eu

command=${1:?}
package=${2:?}

die() {
	echo >&2 "error: $*"
	exit 1
}

command -v "$package" >/dev/null && exit 0

case $command in
(install)
	case $(uname) in
	(FreeBSD)
		pkg install "$package"
		;;
	(*BSD)
		pkg_add "$package"
		;;
	(*)
		if command -v apt >/dev/null; then
			apt install "$package"
		elif command  -v apk >/dev/null; then
			apk add "$package"
		else
			die "no backend found for downloading $package"
		fi
		;;
	esac
	;;
esac
