#!/bin/sh -e
# generate a random UUID from /dev/urandom

dd if=/dev/urandom bs=16 count="${1:-10000}" 2>/dev/null | od -An -x | tr -cd 0-9a-f |
sed -r '
	s/(........)(....)(....)(....)(............)/\1-\2-\3-\4-\5$/g
	s/(........-....-....)-[012]/\1-8/g
	s/(........-....-....)-[345]/\1-9/g
	s/(........-....-....)-[67c]/\1-a/g
	s/(........-....-....)-[def]/\1-b/g
' | tr '$' '\n'
