#!/usr/bin/awk -f

BEGIN {
	FS = ":"

	for (NU = 1; NU < ARGC; NU++)
		USER[ARGV[NU]] = NU
	a = ""
	ARGV[1] = "/etc/passwd"
	ARGC = 2
}

NU == 1 || USER[$1] {
	NC++
        for (C = 1; C <= NF; C++) {
                if (length($C) > LEN[C])
			LEN[C] = length($C)
                CELL[NC"|"C] = $C
        }
        if (--C > COLS)
		COLS = C
}

END {
        for (row = 1; row <= NC; row++) {
                for (C = 1; C < COLS; C++)
                        printf("%-"LEN[C]"s  ", CELL[row"|"C])
                printf("%s\n", CELL[row"|"C])
        }
}
